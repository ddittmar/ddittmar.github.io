(function(){String.hasOwnProperty("format")||(String.format=function(b){var g=Array.prototype.slice.call(arguments,1);return b.replace(/\{(\d+)\}/g,function(b,h){return"undefined"!==typeof g[h]?g[h]:b})});String.hasOwnProperty("rot13")||(String.prototype.rot13=function(){return this.replace(/[a-zA-Z]/g,function(b){return String.fromCharCode(("Z">=b?90:122)>=(b=b.charCodeAt(0)+13)?b:b-26)})})})();(function(b){jQuery.cachedScript=function(g,f){f=b.extend(f||{},{dataType:"script",cache:!0,url:g});return jQuery.ajax(f)}})(jQuery);
var App=function(b){function g(a,b){this.code=a;this.message=b}function f(a,c,d){var e=String.format("{0}?method={1}&api_key={2}&user_id={3}&format=json&jsoncallback=App.{4}","https://api.flickr.com/services/rest/",a,"5829e1bcf08076b3ad92b34958fe8c3b","36825657@N03",c);d&&b.each(d,function(a,b){e+="&"+a+"="+b});b.getScript(e)}function h(a){if("ok"!==a.stat)throw window.alert(String.format("FlickrApiException {0}: {1}",a.code,a.message)),new g(a.code,a.message);}function w(a,b){for(var d=[],e=0,l=
a.length;e<l;)d.push(a.slice(e,e+=b));return d}function p(a,b){return String.format("https://farm{0}.staticflickr.com/{1}/{2}_{3}_{4}.jpg",a.farm,a.server,a.id,a.secret,b)}function q(a){a=w(a,6);var c=document.createDocumentFragment();b.each(a,function(a,e){var l=b("<div>").addClass("row");b.each(e,function(a,c){var e=p(c,"q"),d=p(c,"b"),d=b("<a>").addClass("galleryImage").attr("href",d).attr("title",c.title).attr("id","picid_"+c.id).attr("data-gallery",""),e=b("<img>").attr("src",e).addClass("center-block").addClass("img-responsive").addClass("img-rounded").attr("height",
150).attr("width",150).attr("style","margin-bottom: 22px;");d.append(e);e=b("<div>").addClass("col-lg-2").addClass("col-md-2").addClass("col-sm-4").addClass("col-xs-4");e.append(d);l.append(e)});c.appendChild(l[0])});b("#gallery").empty()[0].appendChild(c)}function r(a){h(a);q(a.photos.photo)}function t(a,c){var d=b("#pager");1===a?d.find(".previous").addClass("disabled"):d.find(".previous").removeClass("disabled");a===c?d.find(".next").addClass("disabled"):d.find(".next").removeClass("disabled");
d.data("page",parseInt(a,10))}function u(a){k=u;f("flickr.photos.search","drawGalleryWithPaging",{page:a,per_page:24,content_type:1,sort:"interestingness-desc",user_id:"36825657@N03"})}function m(a){k=m;f("flickr.people.getPhotos","drawGalleryWithPaging",{page:a,per_page:24,content_type:1})}function x(a){var b=Array.prototype.slice,d=b.call(arguments,1);return function(){var e=d.concat(b.call(arguments));return a.apply(this,e)}}function v(a,b){k=x(v,a);f("flickr.photosets.getPhotos","drawAlbumWithPaging",
{photoset_id:a,page:b,per_page:24})}function n(a){a.parents("ul").find("li").removeClass("active");a.parent("li").addClass("active")}var k;b(document).on("click","a#loadLatestUploadsGallery",function(a){a.preventDefault();n(b(this));ga("send","event","loadLatestUploadsGallery","click");m(1)});b(document).on("click","a#loadInterestingnessGallery",function(a){a.preventDefault();n(b(this));ga("send","event","loadInterestingnessGallery","click");u(1)});b(document).on("click","a.loadAlbumGallery",function(a){a.preventDefault();
n(b(this));a=b(this).data("photoset_id");ga("send","event","loadAlbumGallery","click","photosetid_"+a);v(a,1)});b(document).on("click","a#prevGalleryPage",function(a){a.preventDefault();a=b("#pager").data("page")-1;ga("send","event","page","click","prev",a);k(a)});b(document).on("click","a#nextGalleryPage",function(a){a.preventDefault();b(this).parent("li").hasClass("disabled")||(a=b("#pager").data("page")+1,ga("send","event","page","click","next",a),k(a))});b(document).on("click","a.galleryImage",
function(a){ga("send","event","galleryImage","click",b(this).attr("id"))});b(document).on("click",".social > a",function(a){a.preventDefault();var c=b(this).attr("href");ga("send","event","social","click",c,{hitCallback:function(){document.location=c}})});b(document).on("click","a.btn-twitter",function(a){a.preventDefault();var c=b(this),d=c.data("url");ga("send","event","btn-twitter","click",d,{hitCallback:function(){var a=String.format("{0}?key={1}","https://www.googleapis.com/urlshortener/v1/url",
"AIzaSyCnShRHKnpRuViY9tfYPHEzeGxycwN__8Y");b.ajax({url:a,type:"POST",data:JSON.stringify({longUrl:d}),processData:!1,contentType:"application/json",dataType:"json",success:function(a){a=a.id;a=String.format("{0}?url={1}&via={2}&hashtags={3}&text={4}",c.attr("href"),encodeURIComponent(a),c.data("via"),c.data("hashtags"),c.data("text"));document.location=a}})}})});b(document).on("click","a.btn-facebook",function(a){a.preventDefault();var c=b(this),d=c.data("href");ga("send","event","btn-facebook","click",
d,{hitCallback:function(){var a=c.attr("href"),a=String.format("{0}?app_id={1}&display={2}&href={3}&redirect_uri={4}",a,c.data("app_id"),c.data("display"),encodeURIComponent(d),encodeURIComponent(c.data("redirect_uri")));document.location=a}})});return{loadLandingPageGallery:function(){f("flickr.people.getPhotos","drawGallery",{per_page:24,content_type:1})},drawGallery:r,onLoadGallery:function(){f("flickr.photosets.getList","drawPhotosets",{});m(1)},drawPhotosets:function(a){h(a);var c=document.createDocumentFragment();
b.each(a.photosets.photoset,function(a,e){var f=b("<a>").addClass("loadAlbumGallery").attr("title",e.title._content).attr("href","#"+encodeURIComponent(e.title._content)).data("photoset_id",e.id).text(e.title._content),f=b("<li>").append(f);c.appendChild(f[0])});b("ul#albums")[0].appendChild(c)},drawGalleryWithPaging:function(a){r(a);t(parseInt(a.photos.page,10),parseInt(a.photos.pages,10))},drawAlbumWithPaging:function(a){h(a);q(a.photoset.photo);t(parseInt(a.photoset.page,10),parseInt(a.photoset.pages,
10))},clickBtnGooglePlus:function(a){a=b(a);ga("send","event","btn-google-plus","click",a.data("url"));a=String.format("{0}?url={1}",a.attr("href"),encodeURIComponent(a.data("url")));window.open(a,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600")}}}(jQuery);
